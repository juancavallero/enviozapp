var index_table;var getUrl=window.location;var UIConfirmations=function(){var a=function(){$(".btn-eliminar").on("confirmed.bs.confirmation",function(){});$(".btn-eliminar").on("canceled.bs.confirmation",function(){});$(".btn-eliminar").confirmation({rootSelector:".btn-eliminar",title:"¿Está seguro que desea eliminar este registro?",popout:true,btnOkLabel:"Si",placement:"top",buttons:[{"class":"btn-xs btn-primary",icon:"glyphicon glyphicon-ok"},{"class":"btn-xs btn-default",icon:"glyphicon glyphicon-remove",cancel:true}]})};return{init:function(){a()}}}();var UIExtendedModals=function(){return{init:function(){$.fn.modal.defaults.spinner=$.fn.modalmanager.defaults.spinner='<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="progress-bar" style="width: 100%;"></div></div></div>';$.fn.modalmanager.defaults.resize=true;$(".dynamic .demo").click(function(){var b=['<div class="modal hide fade" tabindex="-1">','<div class="modal-header">','<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>','<h4 class="modal-title">Modal header</h4>',"</div>",'<div class="modal-body">',"<p>Test</p>","</div>",'<div class="modal-footer">','<a href="#" data-dismiss="modal" class="btn btn-default">Close</a>','<a href="#" class="btn btn-primary">Save changes</a>',"</div>","</div>"].join("");$(b).modal()});var a=$("#ajax-modal");$("#ajax-demo").on("click",function(){$("body").modalmanager("loading");var b=$(this);setTimeout(function(){a.load(b.attr("data-url"),"",function(){a.modal()})},1000)});a.on("click",".update",function(){a.modal("loading");setTimeout(function(){a.modal("loading").find(".modal-body").prepend('<div class="alert alert-info fade in">Updated!<button type="button" class="close" data-dismiss="alert">&times;</button></div>')},1000)})}}}();function obtenerDiasHabiles(a,f,b){var d=a;var e=[];while(d<=f){console.log("entro");var c=d.getDay();if(!((c==6)||(c==0))||(c==6&&b==true)){e.push(new Date(d.getFullYear(),d.getMonth(),d.getDate()))}d.setDate(d.getDate()+1)}return e}function validacionesAjax(d,b,c){b=b||"todas";respuesta=true;$.each(d,function(f,g){if(g!=""&&g[0].length>0&&g!="error"){if(g.length>1){$.each(g,function(e,h){console.log(1);if(h.substring(0,10)=="[Optional]"){if(b=="todas"||b=="opcional"){swal({title:"Atención!",text:h.replace("[Optional]","")+" ¿Desea confirmar?",type:"warning",showCancelButton:true,showConfirmButton:true,confirmButtonClass:"btn-danger",confirmButtonText:"Si",cancelButtonText:"No",closeOnConfirm:false,closeOnCancel:true},function(i){if(i){respuesta=true;$("#confirmed").val(1);c.submit();console.log("submit");return respuesta}else{respuesta=false;return respuesta}})}}else{respuesta=false;$("#"+f+"-error").text(h);$("#"+f+"-error").addClass("help-block-error");if($("#"+f).hasClass("select2")){$("#"+f+"-error").attr("style","opacity:1");$("#"+f).closest("div.form-md-line-input").find("span.select2-container").removeClass("selectmd");$("#"+f).closest("div.form-md-line-input").find("span.select2-container").addClass("selectmd-error")}$("#"+f).closest("div.form-group").addClass("has-error")}})}else{if(g[0].substring(0,10)=="[Optional]"){if(b=="todas"||b=="opcional"){swal({title:"Atención!",text:g[0].replace("[Optional]","")+" ¿Desea confirmar?",type:"warning",showCancelButton:true,showConfirmButton:true,confirmButtonClass:"btn-danger",confirmButtonText:"Si",cancelButtonText:"No",closeOnConfirm:false,closeOnCancel:true},function(e){if(e){respuesta=true;$("#confirmed").val(1);console.log("submit");c.submit();return respuesta}else{respuesta=false;return respuesta}})}}else{respuesta=false;$("#"+f+"-error").text(g[0]);$("#"+f+"-error").addClass("help-block-error");if($("#"+f).hasClass("select2")){$("#"+f+"-error").attr("style","opacity:1");$("#"+f).closest("div.form-md-line-input").find("span.select2-container").removeClass("selectmd");$("#"+f).closest("div.form-md-line-input").find("span.select2-container").addClass("selectmd-error")}$("#"+f).closest("div.form-group").addClass("has-error")}}}});var a=$(".btn-oneclick");a.val("Guardar");a.prop("disabled",false);$(".grey-cascade").show();return respuesta}jQuery(document).ready(function(){UIConfirmations.init();UIExtendedModals.init();if($.fn.datepicker.defaults){$.fn.datepicker.defaults.language="es"}$(".multi-select").multiSelect();$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},beforeSend:function(){$("body").addClass("loading")},complete:function(){$("body").removeClass("loading")},success:function(){}});$(".select2, .select2-multiple").select2({language:"es",placeholder:"Seleccione una opción"});$(".select2-ajax").select2({language:"es",ajax:{context:this,data:function(b){var a={search:b.term,page:b.page,condition:$(this).data("condition")};console.log(a);return a},url:function(b){console.log(b);var a=$(this).data("url");return baseUrl+a+b.term},dataType:"json",delay:250,processResults:function(a,b){b.page=b.page||1;return{results:a,pagination:{more:(b.page*30)<a.total_count}}},cache:true},escapeMarkup:function(a){return a},minimumInputLength:2});$(".select2-container").addClass("selectmd");$(".date-picker-multi").datepicker({multidate:true,language:"es",clearBtn:true});if(sessionStorage.getItem("activeMenuItemID")!=undefined){$("#nav > li").each(function(){if($(this).attr("id")==sessionStorage.getItem("activeMenuItemID")){expandMenuItem(this)}})}$(".nav-item").click(function(a){sessionStorage.setItem("activeMenuItemID",a.target.parentElement.id)})});function expandMenuItem(a){if(!$(a).hasClass("open")){$(".nav-item").children("ul").slideUp();$(".nav-item").removeClass("open");$(".nav-item").removeClass("active");$(a).addClass("open");$(a).children("ul").slideToggle();$(a).addClass("active");sessionStorage.setItem("activeMenuItemID",$(a).attr("id"))}}$(document).ready(function(){$(".btn-oneclick").click(function(b){var a=$(b.target);if(a.parents("form").valid()){a.val("Guardando...");a.prop("disabled",true);$(".grey-cascade").hide();$("#loading-img").show();a.parents("form").submit()}});$(".page-content").fadeIn();jQuery.validator.setDefaults({lang:"es_AR",onfocusout:function(a){$(a).valid()},errorPlacement:function(b,c){var a=$(c)[0].name;$("#"+a+"-error").text(b[0].outerText)},highlight:function(d,a,b){var c=$(d)[0].name;$("#"+c+"-error").addClass("help-block-error");$(d).parents("div.form-group").addClass("has-error").removeClass("has-success")},unhighlight:function(d,a,b){var c=$(d)[0].name;$("#"+c+"-error").removeClass("help-block-error");$("#"+c+"-error").text($(d).attr("help-block"));$(d).parents("div.form-group").addClass("has-success").removeClass("has-error")}});$("#modelform").validate()});