var App=function(){var j=false;var v=false;var u=false;var p=false;var z=[];var o="../assets/";var D="global/img/";var F="global/plugins/";var E="global/css/";var s={blue:"#89C4F4",red:"#F3565D",green:"#1bbc9b",purple:"#9b59b6",grey:"#95a5a6",yellow:"#F8CB00"};var i=function(){if($("body").css("direction")==="rtl"){j=true}v=!!navigator.userAgent.match(/MSIE 8.0/);u=!!navigator.userAgent.match(/MSIE 9.0/);p=!!navigator.userAgent.match(/MSIE 10.0/);if(p){$("html").addClass("ie10")}if(p||u||v){$("html").addClass("ie")}};var r=function(){for(var H=0;H<z.length;H++){var I=z[H];I.call()}};var G=function(){var I=$(window).width();var H;if(v){var J;$(window).resize(function(){if(J==document.documentElement.clientHeight){return}if(H){clearTimeout(H)}H=setTimeout(function(){r()},50);J=document.documentElement.clientHeight})}else{$(window).resize(function(){if($(window).width()!=I){I=$(window).width();if(H){clearTimeout(H)}H=setTimeout(function(){r()},50)}})}};var c=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(H){H.preventDefault();var I=$(this).closest(".portlet");if($("body").hasClass("page-portlet-fullscreen")){$("body").removeClass("page-portlet-fullscreen")}I.find(".portlet-title .fullscreen").tooltip("destroy");I.find(".portlet-title > .tools > .reload").tooltip("destroy");I.find(".portlet-title > .tools > .remove").tooltip("destroy");I.find(".portlet-title > .tools > .config").tooltip("destroy");I.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy");I.remove()});$("body").on("click",".portlet > .portlet-title .fullscreen",function(I){I.preventDefault();var J=$(this).closest(".portlet");if(J.hasClass("portlet-fullscreen")){$(this).removeClass("on");J.removeClass("portlet-fullscreen");$("body").removeClass("page-portlet-fullscreen");J.children(".portlet-body").css("height","auto")}else{var H=App.getViewPort().height-J.children(".portlet-title").outerHeight()-parseInt(J.children(".portlet-body").css("padding-top"))-parseInt(J.children(".portlet-body").css("padding-bottom"));$(this).addClass("on");J.addClass("portlet-fullscreen");$("body").addClass("page-portlet-fullscreen");J.children(".portlet-body").css("height",H)}});$("body").on("click",".portlet > .portlet-title > .tools > a.reload",function(K){K.preventDefault();var J=$(this).closest(".portlet").children(".portlet-body");var I=$(this).attr("data-url");var H=$(this).attr("data-error-display");if(I){App.blockUI({target:J,animate:true,overlayColor:"none"});$.ajax({type:"GET",cache:false,url:I,dataType:"html",success:function(L){App.unblockUI(J);J.html(L);App.initAjax()},error:function(O,L,M){App.unblockUI(J);var N="Error on reloading the content. Please check your connection and try again.";if(H=="toastr"&&toastr){toastr.error(N)}else{if(H=="notific8"&&$.notific8){$.notific8("zindex",11500);$.notific8(N,{theme:"ruby",life:3000})}else{alert(N)}}}})}else{App.blockUI({target:J,animate:true,overlayColor:"none"});window.setTimeout(function(){App.unblockUI(J)},1000)}});$('.portlet .portlet-title a.reload[data-load="true"]').click();$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(I){I.preventDefault();var H=$(this).closest(".portlet").children(".portlet-body");if($(this).hasClass("collapse")){$(this).removeClass("collapse").addClass("expand");H.slideUp(200)}else{$(this).removeClass("expand").addClass("collapse");H.slideDown(200)}})};var g=function(){$("body").on("click",".md-checkbox > label, .md-radio > label",function(){var P=$(this);var O=$(this).children("span:first-child");O.addClass("inc");var N=O.clone(true);O.before(N);$("."+O.attr("class")+":last",P).remove()});if($("body").hasClass("page-md")){var I,J,L,H,M;$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(N){I=$(this);if(I.find(".md-click-circle").length==0){I.prepend("<span class='md-click-circle'></span>")}J=I.find(".md-click-circle");J.removeClass("md-click-animate");if(!J.height()&&!J.width()){L=Math.max(I.outerWidth(),I.outerHeight());J.css({height:L,width:L})}H=N.pageX-I.offset().left-J.width()/2;M=N.pageY-I.offset().top-J.height()/2;J.css({top:M+"px",left:H+"px"}).addClass("md-click-animate");setTimeout(function(){J.remove()},1000)})}var K=function(N){if(N.val()!=""){N.addClass("edited")}else{N.removeClass("edited")}};$("body").on("keydown",".form-md-floating-label .form-control",function(N){K($(this))});$("body").on("blur",".form-md-floating-label .form-control",function(N){K($(this))});$(".form-md-floating-label .form-control").each(function(){if($(this).val().length>0){$(this).addClass("edited")}})};var d=function(){if(!$().iCheck){return}$(".icheck").each(function(){var I=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey";var H=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";if(I.indexOf("_line")>-1||H.indexOf("_line")>-1){$(this).iCheck({checkboxClass:I,radioClass:H,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")})}else{$(this).iCheck({checkboxClass:I,radioClass:H})}})};var h=function(){if(!$().bootstrapSwitch){return}$(".make-switch").bootstrapSwitch()};var a=function(){if(!$().confirmation){return}$("[data-toggle=confirmation]").confirmation({btnOkClass:"btn btn-sm btn-success",btnCancelClass:"btn btn-sm btn-danger"})};var f=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(H){App.scrollTo($(H.target))})};var l=function(){if(encodeURI(location.hash)){var H=encodeURI(location.hash.substr(1));$('a[href="#'+H+'"]').parents(".tab-pane:hidden").each(function(){var I=$(this).attr("id");$('a[href="#'+I+'"]').click()});$('a[href="#'+H+'"]').click()}if($().tabdrop){$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})}};var B=function(){$("body").on("hide.bs.modal",function(){if($(".modal:visible").size()>1&&$("html").hasClass("modal-open")===false){$("html").addClass("modal-open")}else{if($(".modal:visible").size()<=1){$("html").removeClass("modal-open")}}});$("body").on("show.bs.modal",".modal",function(){if($(this).hasClass("modal-scroll")){$("body").addClass("modal-open-noscroll")}});$("body").on("hidden.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")});$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})};var n=function(){$(".tooltips").tooltip();$(".portlet > .portlet-title .fullscreen").tooltip({trigger:"hover",container:"body",title:"Fullscreen"});$(".portlet > .portlet-title > .tools > .reload").tooltip({trigger:"hover",container:"body",title:"Reload"});$(".portlet > .portlet-title > .tools > .remove").tooltip({trigger:"hover",container:"body",title:"Remove"});$(".portlet > .portlet-title > .tools > .config").tooltip({trigger:"hover",container:"body",title:"Settings"});$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({trigger:"hover",container:"body",title:"Collapse/Expand"})};var C=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(H){H.stopPropagation()})};var y=function(){$("body").on("click",'[data-close="alert"]',function(H){$(this).parent(".alert").hide();$(this).closest(".note").hide();H.preventDefault()});$("body").on("click",'[data-close="note"]',function(H){$(this).closest(".note").hide();H.preventDefault()});$("body").on("click",'[data-remove="note"]',function(H){$(this).closest(".note").remove();H.preventDefault()})};var q=function(){if(typeof(autosize)=="function"){autosize(document.querySelector("textarea.autosizeme"))}};var k;var x=function(){$(".popovers").popover();$(document).on("click.bs.popover.data-api",function(H){if(k){k.popover("hide")}})};var e=function(){App.initSlimScroll(".scroller")};var t=function(){if(!jQuery.fancybox){return}if($(".fancybox-button").size()>0){$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:true,helpers:{title:{type:"inside"}}})}};var A=function(){if(!$().counterUp){return}$("[data-counter='counterup']").counterUp({delay:10,time:1000})};var b=function(){if(v||u){$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var H=$(this);if(H.val()===""&&H.attr("placeholder")!==""){H.addClass("placeholder").val(H.attr("placeholder"))}H.focus(function(){if(H.val()==H.attr("placeholder")){H.val("")}});H.blur(function(){if(H.val()===""||H.val()==H.attr("placeholder")){H.val(H.attr("placeholder"))}})})}};var m=function(){if($().select2){$.fn.select2.defaults.set("theme","bootstrap");$(".select2").select2({language:"es",placeholder:"Seleccione una opci√≥n",width:"auto",allowClear:true});$(".select2-chain").change(function(I){element=$(I.target);var H=element.val();if(element.data("childurl")){var J=$("#"+element.data("child"));$.ajax({url:element.data("childurl").replace("{id}",H),type:"GET",dataType:"json"}).done(function(L){var K="";K+=' <option value=""></option>';$.each(L.data,function(M,N){K+="<option value="+N.id+">"+N.nombre+"</option>"});J.html(K)})}})}};var w=function(){$("[data-auto-height]").each(function(){var J=$(this);var I=$("[data-height]",J);var H=0;var L=J.attr("data-mode");var K=parseInt(J.attr("data-offset")?J.attr("data-offset"):0);I.each(function(){if($(this).attr("data-height")=="height"){$(this).css("height","")}else{$(this).css("min-height","")}var M=(L=="base-height"?$(this).outerHeight():$(this).outerHeight(true));if(M>H){H=M}});H=H+K;I.each(function(){if($(this).attr("data-height")=="height"){$(this).css("height",H)}else{$(this).css("min-height",H)}});if(J.attr("data-related")){$(J.attr("data-related")).css("height",J.height())}})};return{init:function(){i();G();g();d();h();e();t();m();c();y();C();l();n();x();f();B();a();q();A();this.addResizeHandler(w);b()},initAjax:function(){d();h();e();m();t();C();n();x();f();a()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(H){k=H},addResizeHandler:function(H){z.push(H)},runResizeHandlers:function(){r()},scrollTo:function(I,H){var J=(I&&I.size()>0)?I.offset().top:0;if(I){if($("body").hasClass("page-header-fixed")){J=J-$(".page-header").height()}else{if($("body").hasClass("page-header-top-fixed")){J=J-$(".page-header-top").height()}else{if($("body").hasClass("page-header-menu-fixed")){J=J-$(".page-header-menu").height()}}}J=J+(H?H:-1*I.height())}$("html,body").animate({scrollTop:J},"slow")},initSlimScroll:function(H){if(!$().slimScroll){return}$(H).each(function(){if($(this).attr("data-initialized")){return}var I;if($(this).attr("data-height")){I=$(this).attr("data-height")}else{I=$(this).css("height")}$(this).slimScroll({allowPageScroll:true,size:"7px",color:($(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb"),wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv"),railColor:($(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea"),position:j?"left":"right",height:I,alwaysVisible:($(this).attr("data-always-visible")=="1"?true:false),railVisible:($(this).attr("data-rail-visible")=="1"?true:false),disableFadeOut:true});$(this).attr("data-initialized","1")})},destroySlimScroll:function(H){if(!$().slimScroll){return}$(H).each(function(){if($(this).attr("data-initialized")==="1"){$(this).removeAttr("data-initialized");$(this).removeAttr("style");var J={};if($(this).attr("data-handle-color")){J["data-handle-color"]=$(this).attr("data-handle-color")}if($(this).attr("data-wrapper-class")){J["data-wrapper-class"]=$(this).attr("data-wrapper-class")}if($(this).attr("data-rail-color")){J["data-rail-color"]=$(this).attr("data-rail-color")}if($(this).attr("data-always-visible")){J["data-always-visible"]=$(this).attr("data-always-visible")}if($(this).attr("data-rail-visible")){J["data-rail-visible"]=$(this).attr("data-rail-visible")}$(this).slimScroll({wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv"),destroy:true});var I=$(this);$.each(J,function(K,L){I.attr(K,L)})}})},scrollTop:function(){App.scrollTo()},blockUI:function(H){H=$.extend(true,{},H);var I="";if(H.animate){I='<div class="loading-message '+(H.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>'}else{if(H.iconOnly){I='<div class="loading-message '+(H.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>'}else{if(H.textOnly){I='<div class="loading-message '+(H.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(H.message?H.message:"LOADING...")+"</span></div>"}else{I='<div class="loading-message '+(H.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(H.message?H.message:"LOADING...")+"</span></div>"}}}if(H.target){var J=$(H.target);if(J.height()<=($(window).height())){H.cenrerY=true}J.block({message:I,baseZ:H.zIndex?H.zIndex:1000,centerY:H.cenrerY!==undefined?H.cenrerY:false,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:H.overlayColor?H.overlayColor:"#555",opacity:H.boxed?0.05:0.1,cursor:"wait"}})}else{$.blockUI({message:I,baseZ:H.zIndex?H.zIndex:1000,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:H.overlayColor?H.overlayColor:"#555",opacity:H.boxed?0.05:0.1,cursor:"wait"}})}},unblockUI:function(H){if(H){$(H).unblock({onUnblock:function(){$(H).css("position","");$(H).css("zoom","")}})}else{$.unblockUI()}},startPageLoading:function(H){if(H&&H.animate){$(".page-spinner-bar").remove();$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')}else{$(".page-loading").remove();$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(H&&H.message?H.message:"Loading...")+"</span></div>")}},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(H){H=$.extend(true,{container:"",place:"append",type:"success",message:"",close:true,reset:true,focus:true,closeInSeconds:0,icon:""},H);var J=App.getUniqueID("App_alert");var I='<div id="'+J+'" class="custom-alerts alert alert-'+H.type+' fade in">'+(H.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(H.icon!==""?'<i class="fa-lg fa fa-'+H.icon+'"></i>  ':"")+H.message+"</div>";if(H.reset){$(".custom-alerts").remove()}if(!H.container){if($(".page-fixed-main-content").size()===1){$(".page-fixed-main-content").prepend(I)}else{if(($("body").hasClass("page-container-bg-solid")||$("body").hasClass("page-content-white"))&&$(".page-head").size()===0){$(".page-title").after(I)}else{if($(".page-bar").size()>0){$(".page-bar").after(I)}else{$(".page-breadcrumb, .breadcrumbs").after(I)}}}}else{if(H.place=="append"){$(H.container).append(I)}else{$(H.container).prepend(I)}}if(H.focus){App.scrollTo($("#"+J))}if(H.closeInSeconds>0){setTimeout(function(){$("#"+J).remove()},H.closeInSeconds*1000)}return J},initFancybox:function(){t()},getActualVal:function(H){H=$(H);if(H.val()===H.attr("placeholder")){return""}return H.val()},getURLParameter:function(J){var H=window.location.search.substring(1),I,L,K=H.split("&");for(I=0;I<K.length;I++){L=K[I].split("=");if(L[0]==J){return unescape(L[1])}}return null},isTouchDevice:function(){try{document.createEvent("TouchEvent");return true}catch(H){return false}},getViewPort:function(){var I=window,H="inner";if(!("innerWidth" in window)){H="client";I=document.documentElement||document.body}return{width:I[H+"Width"],height:I[H+"Height"]}},getUniqueID:function(H){return"prefix_"+Math.floor(Math.random()*(new Date()).getTime())},isIE8:function(){return v},isIE9:function(){return u},isRTL:function(){return j},isAngularJsApp:function(){return(typeof angular=="undefined")?false:true},getAssetsPath:function(){return o},setAssetsPath:function(H){o=H},setGlobalImgPath:function(H){D=H},getGlobalImgPath:function(){return o+D},setGlobalPluginsPath:function(H){F=H},getGlobalPluginsPath:function(){return o+F},getGlobalCssPath:function(){return o+E},getBrandColor:function(H){if(s[H]){return s[H]}else{return""}},getResponsiveBreakpoint:function(H){var I={xs:480,sm:768,md:992,lg:1200};return I[H]?I[H]:0}}}();jQuery(document).ready(function(){App.init()});